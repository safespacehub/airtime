# General
CONFIG_GPIO=y
CONFIG_FPU=y
CONFIG_STDOUT_CONSOLE=y
CONFIG_UART_INTERRUPT_DRIVEN=y
CONFIG_PICOLIBC_IO_FLOAT=n

# Use newlib for SUPL compatibility
CONFIG_NEWLIB_LIBC=y
CONFIG_NEWLIB_LIBC_FLOAT_PRINTF=y

# Logging - deferred mode required for LOG_BACKEND_FS
CONFIG_LOG=y
CONFIG_LOG_MODE_DEFERRED=y
CONFIG_LOG_BUFFER_SIZE=16384
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_LOG_PRINTK=y
CONFIG_LOG_TIMESTAMP_USE_REALTIME=y

# Reduce kernel/OS log level to suppress mutex debug messages
CONFIG_KERNEL_LOG_LEVEL_WRN=y

# Filesystem logging backend - optimized for 512MB SD card
CONFIG_LOG_BACKEND_FS=y
CONFIG_LOG_BACKEND_FS_DIR="/SD:"
CONFIG_LOG_BACKEND_FS_FILE_PREFIX="log."
CONFIG_LOG_BACKEND_FS_FILE_SIZE=1048576
CONFIG_LOG_BACKEND_FS_FILES_LIMIT=400
CONFIG_LOG_BACKEND_FS_OVERWRITE=y
CONFIG_LOG_BACKEND_FS_APPEND_TO_NEWEST_FILE=y

# nRF Modem library
CONFIG_NRF_MODEM_LIB=y

# LTE Link Control with GPS support
CONFIG_LTE_LINK_CONTROL=y
CONFIG_LTE_NETWORK_MODE_LTE_M_GPS=y

# Power saving for LTE
CONFIG_LTE_LC_PSM_MODULE=y
CONFIG_LTE_PSM_REQ=y
CONFIG_LTE_PSM_REQ_RPTAU="00101000"
CONFIG_LTE_PSM_REQ_RAT="00000011"
CONFIG_LTE_LC_EDRX_MODULE=y
CONFIG_LTE_EDRX_REQ=y

# SUPL client for A-GNSS
CONFIG_SUPL_CLIENT_LIB=y

# Networking for SUPL
CONFIG_NETWORKING=y
CONFIG_NET_SOCKETS_OFFLOAD=y
CONFIG_NET_SOCKETS=y
CONFIG_NET_NATIVE=n
CONFIG_POSIX_API=y

# I2C for sensors
CONFIG_I2C=y

# SPI for SD card
CONFIG_SPI=y

# BMP581 barometric pressure sensor
CONFIG_SENSOR=y
CONFIG_BMP581=y

# RTC
CONFIG_RTC=y
CONFIG_RTC_PCF8523=y

# SD card and filesystem
CONFIG_DISK_ACCESS=y
CONFIG_DISK_DRIVER_SDMMC=y
CONFIG_SDMMC_STACK=y
CONFIG_SDHC=y
CONFIG_SPI_SDHC=y
# SD init timeout (milliseconds) - reduce for faster failure, increase if card is slow
CONFIG_SD_INIT_TIMEOUT=1000
CONFIG_FILE_SYSTEM=y
CONFIG_FAT_FILESYSTEM_ELM=y
CONFIG_FS_FATFS_LFN=y
CONFIG_FS_FATFS_LFN_MODE_HEAP=y
CONFIG_FS_FATFS_MAX_LFN=255

# Random number generator for UUID
CONFIG_ENTROPY_GENERATOR=y
CONFIG_TEST_RANDOM_GENERATOR=n

# Memory configuration
CONFIG_HEAP_MEM_POOL_SIZE=8192
CONFIG_MAIN_STACK_SIZE=8192
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# Enable heap runtime statistics for memory usage monitoring
CONFIG_SYS_HEAP_RUNTIME_STATS=y

# Enable thread runtime statistics for CPU utilization monitoring
CONFIG_THREAD_RUNTIME_STATS=y
CONFIG_SCHED_THREAD_USAGE=y
CONFIG_SCHED_THREAD_USAGE_ALL=y
CONFIG_SCHED_THREAD_USAGE_AUTO_ENABLE=y

# PMIC LED driver (from board config)
CONFIG_LED=y
CONFIG_LED_NPM1300=y

# Disable unused MCUboot/DFU features to silence warnings
CONFIG_IMG_MANAGER=n
CONFIG_MCUBOOT_IMG_MANAGER=n

# Disable external flash (we're using SPI3 for SD card instead)
CONFIG_SPI_NOR=n
CONFIG_PM_EXTERNAL_FLASH_MCUBOOT_SECONDARY=n
